{"ast":null,"code":"var _jsxFileName = \"D:\\\\fitness-tracker-app\\\\frontend\\\\src\\\\components\\\\StreakTracker.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StreakTracker = ({\n  user\n}) => {\n  _s();\n  const [streak, setStreak] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    if (user && user._id) {\n      updateAndFetchStreak();\n    }\n    // eslint-disable-next-line\n  }, [user]);\n  const updateAndFetchStreak = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      // Update streak (should be called on login/activity)\n      await axios.post('/api/streak', {\n        userId: user._id\n      });\n      // Fetch streak\n      const res = await axios.get(`/api/streak/${user._id}`);\n      setStreak(res.data);\n    } catch (err) {\n      setError('Failed to fetch streak.');\n    }\n    setLoading(false);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"streak-tracker\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"streak-tracker\",\n    style: {\n      color: 'crimson'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 23\n  }, this);\n  if (!streak) return null;\n  const currentStreak = streak.currentStreak || 0;\n  const bestStreak = streak.longestStreak || 0;\n  const history = streak.loginDates || [];\n  let message = '';\n  if (currentStreak === 0) {\n    message = 'Start your streak today!';\n  } else if (currentStreak < 3) {\n    message = 'Keep going! Every day counts.';\n  } else if (currentStreak < 7) {\n    message = 'Great job! You are building a healthy habit.';\n  } else {\n    message = 'Amazing! You are on fire!';\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"streak-tracker\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Streak Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '12px 0',\n        fontSize: '1.2rem',\n        fontWeight: 600\n      },\n      children: [\"Current Streak: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'var(--color-streak)'\n        },\n        children: [currentStreak, \" days\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'var(--color-muted)',\n        marginBottom: 8\n      },\n      children: [\"Best Streak: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: bestStreak\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 30\n      }, this), \" days\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), history.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'var(--color-primary-dark)',\n          fontWeight: 500\n        },\n        children: \"Recent Activity:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          padding: 0,\n          margin: 0,\n          display: 'flex',\n          gap: 6\n        },\n        children: history.slice(-7).map((day, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            width: 18,\n            height: 18,\n            borderRadius: '50%',\n            background: day ? 'var(--color-accent)' : '#e5e7eb',\n            display: 'inline-block',\n            border: '1px solid #d1d5db',\n            transition: 'background 0.3s'\n          },\n          title: day ? 'Active' : 'Missed'\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12,\n        color: 'var(--color-accent)',\n        fontWeight: 600\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(StreakTracker, \"9N7qj6dh0WrHEIZH17nTpxZ00L8=\");\n_c = StreakTracker;\nexport default StreakTracker;\nvar _c;\n$RefreshReg$(_c, \"StreakTracker\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","StreakTracker","user","_s","streak","setStreak","loading","setLoading","error","setError","_id","updateAndFetchStreak","post","userId","res","get","data","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","currentStreak","bestStreak","longestStreak","history","loginDates","message","margin","fontSize","fontWeight","marginBottom","length","listStyle","padding","display","gap","slice","map","day","idx","width","height","borderRadius","background","border","transition","title","marginTop","_c","$RefreshReg$"],"sources":["D:/fitness-tracker-app/frontend/src/components/StreakTracker.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst StreakTracker = ({ user }) => {\n    const [streak, setStreak] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        if (user && user._id) {\n            updateAndFetchStreak();\n        }\n        // eslint-disable-next-line\n    }, [user]);\n\n    const updateAndFetchStreak = async () => {\n        setLoading(true);\n        setError('');\n        try {\n            // Update streak (should be called on login/activity)\n            await axios.post('/api/streak', { userId: user._id });\n            // Fetch streak\n            const res = await axios.get(`/api/streak/${user._id}`);\n            setStreak(res.data);\n        } catch (err) {\n            setError('Failed to fetch streak.');\n        }\n        setLoading(false);\n    };\n\n    if (loading) return <div className=\"streak-tracker\">Loading...</div>;\n    if (error) return <div className=\"streak-tracker\" style={{ color: 'crimson' }}>{error}</div>;\n    if (!streak) return null;\n\n    const currentStreak = streak.currentStreak || 0;\n    const bestStreak = streak.longestStreak || 0;\n    const history = streak.loginDates || [];\n\n    let message = '';\n    if (currentStreak === 0) {\n        message = 'Start your streak today!';\n    } else if (currentStreak < 3) {\n        message = 'Keep going! Every day counts.';\n    } else if (currentStreak < 7) {\n        message = 'Great job! You are building a healthy habit.';\n    } else {\n        message = 'Amazing! You are on fire!';\n    }\n\n    return (\n        <div className=\"streak-tracker\">\n            <h2>Streak Details</h2>\n            <div style={{ margin: '12px 0', fontSize: '1.2rem', fontWeight: 600 }}>\n                Current Streak: <span style={{ color: 'var(--color-streak)' }}>{currentStreak} days</span>\n            </div>\n            <div style={{ color: 'var(--color-muted)', marginBottom: 8 }}>\n                Best Streak: <b>{bestStreak}</b> days\n            </div>\n            {history.length > 0 && (\n                <div style={{ marginBottom: 8 }}>\n                    <span style={{ color: 'var(--color-primary-dark)', fontWeight: 500 }}>Recent Activity:</span>\n                    <ul style={{ listStyle: 'none', padding: 0, margin: 0, display: 'flex', gap: 6 }}>\n                        {history.slice(-7).map((day, idx) => (\n                            <li key={idx} style={{\n                                width: 18, height: 18, borderRadius: '50%',\n                                background: day ? 'var(--color-accent)' : '#e5e7eb',\n                                display: 'inline-block',\n                                border: '1px solid #d1d5db',\n                                transition: 'background 0.3s'\n                            }} title={day ? 'Active' : 'Missed'}></li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n            <div style={{ marginTop: 12, color: 'var(--color-accent)', fontWeight: 600 }}>{message}</div>\n        </div>\n    );\n};\n\nexport default StreakTracker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}