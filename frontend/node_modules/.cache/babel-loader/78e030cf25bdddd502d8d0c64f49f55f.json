{"ast":null,"code":"var _jsxFileName = \"D:\\\\fitness-tracker-app\\\\frontend\\\\src\\\\components\\\\CalorieTracker.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DAILY_GOAL = 2000;\nconst CalorieTracker = ({\n  user\n}) => {\n  _s();\n  const [caloriesConsumed, setCaloriesConsumed] = useState(0);\n  const [inputCalories, setInputCalories] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    if (user && user._id) {\n      fetchCalories();\n    }\n    // eslint-disable-next-line\n  }, [user]);\n  const fetchCalories = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const res = await axios.get(`/api/users/${user._id}`);\n      setCaloriesConsumed(res.data.calories || 0);\n    } catch (err) {\n      setError('Failed to fetch calories.');\n    }\n    setLoading(false);\n  };\n  const handleUpdateCalories = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setMessage('');\n    try {\n      await axios.patch(`/api/users/${user._id}`, {\n        calories: Number(inputCalories)\n      });\n      setMessage('Calories updated!');\n      setInputCalories('');\n      fetchCalories();\n    } catch (err) {\n      setError('Failed to update calories.');\n    }\n    setLoading(false);\n  };\n  const progress = Math.min(caloriesConsumed / DAILY_GOAL * 100, 100);\n  let messageText = '';\n  if (caloriesConsumed < DAILY_GOAL * 0.8) {\n    messageText = 'You have plenty of calories left. Keep fueling your body!';\n  } else if (caloriesConsumed < DAILY_GOAL) {\n    messageText = 'Almost at your goal. Great job!';\n  } else {\n    messageText = 'You reached your goal! Stay active and healthy!';\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calorie-tracker\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Calorie Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '16px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '2rem',\n          fontWeight: 700,\n          color: 'var(--color-primary)'\n        },\n        children: [caloriesConsumed, \" kcal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'var(--color-muted)',\n          fontWeight: 500\n        },\n        children: [\"of \", DAILY_GOAL, \" kcal goal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        background: '#e5e7eb',\n        borderRadius: 8,\n        height: 16,\n        margin: '16px 0'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: `${progress}%`,\n          background: 'var(--color-accent)',\n          height: '100%',\n          borderRadius: 8,\n          transition: 'width 0.4s'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdateCalories,\n      style: {\n        display: 'flex',\n        gap: 8,\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Update calories\",\n        value: inputCalories,\n        onChange: e => setInputCalories(e.target.value),\n        style: {\n          flex: 1,\n          padding: 8,\n          borderRadius: 8,\n          border: '1px solid #e5e7eb'\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"button\",\n        disabled: loading,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'var(--color-accent)',\n        marginTop: 8\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'crimson',\n        marginTop: 8\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12,\n        color: 'var(--color-accent)',\n        fontWeight: 600\n      },\n      children: messageText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(CalorieTracker, \"mUec8tV985VaDr+Ojbl9C1/0tpM=\");\n_c = CalorieTracker;\nexport default CalorieTracker;\nvar _c;\n$RefreshReg$(_c, \"CalorieTracker\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","DAILY_GOAL","CalorieTracker","user","_s","caloriesConsumed","setCaloriesConsumed","inputCalories","setInputCalories","loading","setLoading","error","setError","message","setMessage","_id","fetchCalories","res","get","data","calories","err","handleUpdateCalories","e","preventDefault","patch","Number","progress","Math","min","messageText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","margin","fontSize","fontWeight","color","width","background","borderRadius","height","transition","onSubmit","display","gap","marginTop","type","placeholder","value","onChange","target","flex","padding","border","required","disabled","_c","$RefreshReg$"],"sources":["D:/fitness-tracker-app/frontend/src/components/CalorieTracker.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst DAILY_GOAL = 2000;\n\nconst CalorieTracker = ({ user }) => {\n    const [caloriesConsumed, setCaloriesConsumed] = useState(0);\n    const [inputCalories, setInputCalories] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [message, setMessage] = useState('');\n\n    useEffect(() => {\n        if (user && user._id) {\n            fetchCalories();\n        }\n        // eslint-disable-next-line\n    }, [user]);\n\n    const fetchCalories = async () => {\n        setLoading(true);\n        setError('');\n        try {\n            const res = await axios.get(`/api/users/${user._id}`);\n            setCaloriesConsumed(res.data.calories || 0);\n        } catch (err) {\n            setError('Failed to fetch calories.');\n        }\n        setLoading(false);\n    };\n\n    const handleUpdateCalories = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n        setMessage('');\n        try {\n            await axios.patch(`/api/users/${user._id}`, { calories: Number(inputCalories) });\n            setMessage('Calories updated!');\n            setInputCalories('');\n            fetchCalories();\n        } catch (err) {\n            setError('Failed to update calories.');\n        }\n        setLoading(false);\n    };\n\n    const progress = Math.min((caloriesConsumed / DAILY_GOAL) * 100, 100);\n    let messageText = '';\n    if (caloriesConsumed < DAILY_GOAL * 0.8) {\n        messageText = 'You have plenty of calories left. Keep fueling your body!';\n    } else if (caloriesConsumed < DAILY_GOAL) {\n        messageText = 'Almost at your goal. Great job!';\n    } else {\n        messageText = 'You reached your goal! Stay active and healthy!';\n    }\n\n    return (\n        <div className=\"calorie-tracker\">\n            <h2>Calorie Tracker</h2>\n            <div style={{ margin: '16px 0' }}>\n                <div style={{ fontSize: '2rem', fontWeight: 700, color: 'var(--color-primary)' }}>{caloriesConsumed} kcal</div>\n                <div style={{ color: 'var(--color-muted)', fontWeight: 500 }}>of {DAILY_GOAL} kcal goal</div>\n            </div>\n            <div style={{ width: '100%', background: '#e5e7eb', borderRadius: 8, height: 16, margin: '16px 0' }}>\n                <div style={{ width: `${progress}%`, background: 'var(--color-accent)', height: '100%', borderRadius: 8, transition: 'width 0.4s' }}></div>\n            </div>\n            <form onSubmit={handleUpdateCalories} style={{ display: 'flex', gap: 8, marginTop: 12 }}>\n                <input\n                    type=\"number\"\n                    placeholder=\"Update calories\"\n                    value={inputCalories}\n                    onChange={e => setInputCalories(e.target.value)}\n                    style={{ flex: 1, padding: 8, borderRadius: 8, border: '1px solid #e5e7eb' }}\n                    required\n                />\n                <button type=\"submit\" className=\"button\" disabled={loading}>Update</button>\n            </form>\n            {message && <div style={{ color: 'var(--color-accent)', marginTop: 8 }}>{message}</div>}\n            {error && <div style={{ color: 'crimson', marginTop: 8 }}>{error}</div>}\n            <div style={{ marginTop: 12, color: 'var(--color-accent)', fontWeight: 600 }}>{messageText}</div>\n        </div>\n    );\n};\n\nexport default CalorieTracker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}